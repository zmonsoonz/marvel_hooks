"use strict";(self.webpackChunkhello=self.webpackChunkhello||[]).push([[304],{354:(e,s,t)=>{t.d(s,{A:()=>n});const a=t.p+"static/media/Avengers.4065c8f9c94e3d8b039a.png",c=t.p+"static/media/Avengers_logo.9eaf219344d83362e830.png";var r=t(579);const n=()=>(0,r.jsxs)("div",{className:"app__banner",children:[(0,r.jsx)("img",{src:a,alt:"Avengers"}),(0,r.jsxs)("div",{className:"app__banner-text",children:["New comics every week!",(0,r.jsx)("br",{}),"Stay tuned!"]}),(0,r.jsx)("img",{src:c,alt:"Avengers logo"})]})},507:(e,s,t)=>{t.r(s),t.d(s,{default:()=>l});var a=t(216),c=t(897),r=t(43),n=t(354),i=t(878),o=(t(610),t(579));const l=e=>{let{Component:s,dataType:t}=e;const{id:l}=(0,a.g)(),[d,u]=(0,r.useState)(null),{clearError:h,getCharacter:m,getComic:p,process:g,setProcess:f}=(0,c.A)();(0,r.useEffect)((()=>{b()}),[l]);const b=()=>{if(l)switch(h(),t){case"comic":p(l).then(v).then((()=>f("confirmed")));break;case"character":m(l).then(v).then((()=>f("confirmed")));break;default:return}},v=e=>{u(e)},x="loading"===g?"single-comic__load":"single-comic";return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.A,{}),(0,o.jsx)("div",{className:x,children:(0,i.A)(g,s,d)})]})}},897:(e,s,t)=>{t.d(s,{A:()=>c});var a=t(43);const c=()=>{const{request:e,clearError:s,process:t,setProcess:c}=(()=>{const[e,s]=(0,a.useState)("waiting");return{request:(0,a.useCallback)((async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{"Content-type":"application/json"};s("loading");try{const s=await fetch(e,{method:t,body:a,headers:c});if(!s.ok)throw new Error("Error, status: ".concat(s.status));return await s.json()}catch(r){throw s("error"),r}}),[]),clearError:(0,a.useCallback)((()=>{s("loading")}),[]),process:e,setProcess:s}})(),r="https://gateway.marvel.com:443/v1/public/",n="apikey=b05c834936cf7a1f465993be62ef8eee",i=e=>({name:e.name,description:e.description?e.description.slice(0,210)+"...":"There is no description for this character",thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,homepage:e.urls[0].url,wiki:e.urls[1].url,id:e.id,comics:0===e.comics.items.length?"There is no comics with this character":e.comics.items.slice(0,10)}),o=e=>{var s;return{title:e.title,id:e.id,thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,price:e.prices[0].price?e.prices[0].price+"$":"Not available",description:e.description||"There is no description for this comic",pages:e.pageCount?e.pageCount+" pages":"No information about number of pages",language:"Language: "+(null===(s=e.textObjects[0])||void 0===s?void 0:s.language)||0}};return{getAllCharacters:async function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;return(await e("".concat(r,"characters?limit=9&offset=").concat(s,"&").concat(n))).data.results.map(i)},getCharacter:async s=>{const t=await e("".concat(r,"characters/").concat(s,"?").concat(n));if(!t)throw new Error;return i(t.data.results[0])},clearError:s,getComics:async function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return(await e("".concat(r,"comics?limit=8&offset=").concat(s,"&").concat(n))).data.results.map(o)},getComic:async s=>{const t=await e("".concat(r,"comics/").concat(s,"?").concat(n));return o(t.data.results[0])},getFormCharacter:async s=>{const t=await e("".concat(r,"characters?name=").concat(s,"&").concat(n));return 0!==t.data.results.length?i(t.data.results[0]):[]},process:t,setProcess:c}}},878:(e,s,t)=>{t.d(s,{A:()=>n});var a=t(579);const c=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"char__select",children:"Please select a character to see information"}),(0,a.jsxs)("div",{className:"skeleton",children:[(0,a.jsxs)("div",{className:"pulse skeleton__header",children:[(0,a.jsx)("div",{className:"pulse skeleton__circle"}),(0,a.jsx)("div",{className:"pulse skeleton__mini"})]}),(0,a.jsx)("div",{className:"pulse skeleton__block"}),(0,a.jsx)("div",{className:"pulse skeleton__block"}),(0,a.jsx)("div",{className:"pulse skeleton__block"})]})]}),r=t.p+"static/media/Rolling-1s-200px.44f432af2ca85e78bbed.gif",n=(e,s,t)=>{switch(e){case"waiting":return(0,a.jsx)(c,{});case"loading":return(0,a.jsx)("img",{className:"spinner",src:r,alt:"spin"});case"confirmed":return(0,a.jsx)(s,{data:t});case"error":return(0,a.jsxs)("h1",{className:"spinner",children:["No character found",(0,a.jsx)("br",{}),"Try again"]});default:throw new Error("Unexpected process")}}}}]);
//# sourceMappingURL=304.0bd0c521.chunk.js.map